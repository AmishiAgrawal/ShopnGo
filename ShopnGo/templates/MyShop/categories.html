{% extends 'MyShop/main.html' %} 
{% block a2 %}active{% endblock %}
{% block style %}
.body{
    background:#f8f9fa;
}
.card-img-top {
    height: 255px;
    object-fit:contain;
    width: auto;
    margin:auto;
}
.image-container{
    margin: auto;
}
.card-body {
  height: 200px;
}
.card-body {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    height: 220px;
}

{% endblock %}
{% block body %}
<h2 class="px-5 mt-5">Explore all - {{products.0.product_category}}</h2>
<div class="album py-5 bg-light">
    <div class="container">

      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
        {% for product in products %}

        <div class="col">
          <div class="card shadow-sm m-2">
            <div class="image-container">
                <img src="/media/{{product.product_img}}" class="card-img-top img-fluid" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false">
            </div>
 
            <div class="card-body">
              <h4 class='namepr{{product.product_id}}'>{{product.product_name|slice:"0:30"}}</h4>
              <p class="card-text">{{product.product_sdesc|slice:"0:30"}}...</p>
              <div class="d-flex justify-content-between align-items-center">

                <div class="btn-group">                 
                  <a href='/productview/{{product.product_id}}'><button type="button" id='pv{{product.product_id}}' class="btn btn-sm btn-outline-secondary">View Details</button></a>
                  <span class ='divpr{{product.product_id}} cart-btn'><button type="button" id='pr{{product.product_id}}' class="btn btn-sm cart btn-outline-secondary">Add to Cart</button>
                  </span>
                </div>
                <small class="text-muted">9 mins</small>
              </div>
            </div>
          </div>
        </div>

        {% endfor %}

    </div>
    </div>
  </div>
{% endblock %}
{% block js %}
{% comment %} 
     function updateCart(cart){
      console.log(cart);
        for(var item in cart){
            //item will be pr11 or something the id of product
            document.getElementById('div'+item).innerHTML = "<button id='minus" + item + " 'class='btn btn-primary minus'>-</button><span id='val" + item + "'> " + cart[item] + "</span> <button id='plus" + item + "' class='btn btn-primary plus'> + </button>";
        }
    } {% endcomment %}
{% endblock %}